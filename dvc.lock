schema: '2.0'
stages:
  buidl_model:
    cmd: python src/mnistClassifier/pipelines/stage_00_build_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: fbd42975449165db3e30a4f81860308b
      size: 754
    - path: src/mnistClassifier/pipelines/stage_00_build_model.py
      hash: md5
      md5: 5980ced57385763716eb0d1f3cd9a32f
      size: 690
    params:
      params.yaml:
        DENSE_SIZE: 64
    outs:
    - path: artifacts/models/basemodel.h5
      hash: md5
      md5: fd79e015ab2c43f45988be03bf99a6e5
      size: 512816
  data_ingestion:
    cmd: python src/mnistClassifier/pipelines/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: fbd42975449165db3e30a4f81860308b
      size: 754
    - path: src/mnistClassifier/pipelines/stage_01_data_ingestion.py
      hash: md5
      md5: 9d921a2218e0c891808dae26f56e6c6f
      size: 742
    outs:
    - path: artifacts/data/train.csv
      hash: md5
      md5: 865d59707ccecff041ecae83ac71c5f8
      size: 87719150
  train_model:
    cmd: python src/mnistClassifier/pipelines/stage_02_train_model.py
    deps:
    - path: artifacts/data/test.csv
      hash: md5
      md5: 6c36e9d1067a565f448a86a811d71c04
      size: 21925258
    - path: artifacts/data/train.csv
      hash: md5
      md5: 865d59707ccecff041ecae83ac71c5f8
      size: 87719150
    - path: artifacts/models/basemodel.h5
      hash: md5
      md5: fd79e015ab2c43f45988be03bf99a6e5
      size: 512816
    - path: config/config.yaml
      hash: md5
      md5: fbd42975449165db3e30a4f81860308b
      size: 754
    - path: src/mnistClassifier/pipelines/stage_02_train_model.py
      hash: md5
      md5: f298d618d317098ae351050283bdb42c
      size: 1073
    params:
      params.yaml:
        BATCH_SIZE: 32
        EPOCHS: 5
  evaluate_model:
    cmd: python src/mnistClassifier/pipelines/stage_03_evaluate_model.py
    deps:
    - path: artifacts/models/model.h5
      hash: md5
      md5: 0b187af10cbcd30a0714c6fe09fc78cd
      size: 1493760
    - path: artifacts/models/preprocessor.pkl
      hash: md5
      md5: 51287dc0fd4080246d4283d8d6cbe697
      size: 30285
    - path: config/config.yaml
      hash: md5
      md5: fbd42975449165db3e30a4f81860308b
      size: 754
    - path: src/mnistClassifier/pipelines/stage_03_evaluate_model.py
      hash: md5
      md5: 1862d8eb27af80f514b948484ab16142
      size: 1150
